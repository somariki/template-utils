const{createApp,ref,reactive,onMounted,onUnmounted}=Vue,uid="onecomme.plugin.template-utils";createApp({setup(){const a=new URLSearchParams(window.location.search),s=`${window.location.pathname}`.substring(1).split("/").slice(1,3).join("/")||null,n=reactive({baseURL:`${window.location.protocol}//${window.location.host}`,hostURL:["http://127.0.0.1:11180"],localURL:"http://localhost:11180",code:a.get("code")||"",isCustom:a.get("cus")||0,templatePath:s||"",presetId:a.get("preset")||0});let p=[];const t=a=>{if("fastRender"===a.key){const a=JSON.parse(localStorage.getItem("fastRender"));1==!!a?.templateId&&(a?.templateId??null)==s&&(a?.presetId??0)==n.presetId&&r(a.cssData)}};function r(a){p=[],a.forEach((a=>{const s=!!a?.flag?.isCss,n=!!a?.flag?.isJs;if(!0===s){const s=a.cssvar,n=a.value||"";document.documentElement.style.setProperty(s,n)}if(!0===n)switch(p.push({code:a.code,data:a.data}),a.code){case"datetime-date-format":e.dateFormat=a?.data?.value;break;case"datetime-weekday-format":e.weekFormat=a?.data?.value;break;case"datetime-time-format":e.timeFormat=a?.data?.value}})),p.length>0&&window.dispatchEvent(new CustomEvent("presetDataUpdated",{detail:p}))}const e=reactive({isAutoTimezone:!0,timeZone:null,dateFormat:1,weekFormat:1,timeFormat:1});dayjs.extend(dayjs_plugin_utc),dayjs.extend(dayjs_plugin_timezone);const c=reactive({time:null,date:null,week:null}),o=reactive({timestamp:null}),l={0:"睦月",1:"如月",2:"弥生",3:"卯月",4:"皐月",5:"水無月",6:"文月",7:"葉月",8:"長月",9:"神無月",10:"霜月",11:"師走"},m={0:"一",1:"二",2:"三",3:"四",4:"五",5:"六",6:"七",7:"八",8:"九",9:"十",10:"十一",11:"十二"},u={0:"日曜日",1:"月曜日",2:"火曜日",3:"水曜日",4:"木曜日",5:"金曜日",6:"土曜日"},$={0:"日",1:"月",2:"火",3:"水",4:"木",5:"金",6:"土"},f={0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},i={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},d={0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},h={0:"週日",1:"週一",2:"週二",3:"週三",4:"週四",5:"週五",6:"週六"},y={1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九",10:"十",11:"十一",12:"十二",13:"十三",14:"十四",15:"十五",16:"十六",17:"十七",18:"十八",19:"十九",20:"二十",21:"二十一",22:"二十二",23:"二十三",24:"二十四",25:"二十五",26:"二十六",27:"二十七",28:"二十八",29:"二十九",30:"三十",31:"三十一"},M=a=>{const s=["〇","一","二","三","四","五","六","七","八","九"];return a.toString().split("").map((a=>s[parseInt(a)])).join("")},D=a=>a>=0&&a<6?"凌晨":a>=6&&a<9?"早上":a>=9&&a<12?"上午":a>=12&&a<13?"中午":a>=13&&a<18?"下午":"晚上",Y=()=>{const a=dayjs().tz(),s=a.valueOf(),n=a.day(),p=a.date(),t=a.month(),r=a.hour(),Y=r<12?"午前":"午後",w=D(r);c.date=(a=>{const s=a.date(),n=a.month(),p=a.day();switch(e.dateFormat){case 1:default:return`<span class="year">${a.format("YYYY")}</span><span class="separator">/</span><span class="month">${a.format("MM")}</span><span class="separator">/</span><span class="day">${a.format("DD")}</span>`;case 2:return`<span class="year">${a.format("YYYY")}</span><span class="separator">/</span><span class="month">${a.format("M")}</span><span class="separator">/</span><span class="day">${a.format("D")}</span>`;case 3:return`<span class="day">${a.format("DD")}</span><span class="separator">/</span><span class="month">${a.format("MM")}</span><span class="separator">/</span><span class="year">${a.format("YYYY")}</span>`;case 4:return`<span class="day">${a.format("D")}</span><span class="separator">/</span><span class="month">${a.format("M")}</span><span class="separator">/</span><span class="year">${a.format("YYYY")}</span>`;case 5:return`<span class="day">${a.format("DD")}</span><span class="separator">/</span><span class="month">${a.format("MM")}</span><span class="separator">/</span><span class="year">${a.format("YY")}</span>`;case 6:return`<span class="day">${a.format("D")}</span><span class="separator">/</span><span class="month">${a.format("M")}</span><span class="separator">/</span><span class="year">${a.format("YY")}</span>`;case 7:return`<span class="month">${a.format("MM")}</span><span class="separator">/</span><span class="day">${a.format("DD")}</span>`;case 8:return`<span class="month">${a.format("M")}</span><span class="separator">/</span><span class="day">${a.format("D")}</span>`;case 9:return`<span class="day">${a.format("DD")}</span><span class="separator">/</span><span class="month">${a.format("MM")}</span>`;case 10:return`<span class="day">${a.format("D")}</span><span class="separator">/</span><span class="month">${a.format("M")}</span>`;case 11:return`<span class="day">${a.format("DD")}</span><span class="separator">/</span><span class="month">${a.format("MMMM")}</span>`;case 12:return`<span class="day">${a.format("D")}</span><span class="separator">/</span><span class="month">${a.format("MMMM")}</span>`;case 13:return`<span class="day">${a.format("DD")}</span><span class="separator">/</span><span class="month">${a.format("MMM")}</span>`;case 14:return`<span class="day">${a.format("D")}</span><span class="separator">/</span><span class="month">${a.format("MMM")}</span>`;case 15:return`<span class="day">${a.format("DD")}</span><span class="separator"></span><span class="month">${a.format("MMMM")}</span><span class="separator"></span><span class="year">${a.format("YYYY")}</span>`;case 16:return`<span class="day">${a.format("D")}</span><span class="separator"></span><span class="month">${a.format("MMMM")}</span><span class="separator"></span><span class="year">${a.format("YYYY")}</span>`;case 17:return`<span class="day">${a.format("DD")}</span><span class="separator"></span><span class="month">${a.format("MMM")}</span><span class="separator"></span><span class="year">${a.format("YYYY")}</span>`;case 18:return`<span class="day">${a.format("D")}</span><span class="separator"></span><span class="month">${a.format("MMM")}</span><span class="separator"></span><span class="year">${a.format("YYYY")}</span>`;case 19:return`<span class="day">${a.format("DD")}</span><span class="separator"></span><span class="month">${a.format("MMMM")}</span>`;case 20:return`<span class="day">${a.format("D")}</span><span class="separator"></span><span class="month">${a.format("MMMM")}</span>`;case 21:return`<span class="month">${a.format("MMMM")}</span>/<span class="day">${a.format("DD")}</span>`;case 22:return`<span class="month">${a.format("MMMM")}</span>/<span class="day">${a.format("D")}</span>`;case 23:return`<span class="month">${a.format("MMM")}</span>/<span class="day">${a.format("DD")}</span>`;case 24:return`<span class="month">${a.format("MMM")}</span>/<span class="day">${a.format("D")}</span>`;case 25:return`<span class="month">${a.format("MMMM")}</span><span class="separator"></span><span class="day">${a.format("DD")}</span>`;case 26:return`<span class="month">${a.format("MMMM")}</span><span class="separator"></span><span class="day">${a.format("D")}</span>`;case 27:return`<span class="month">${a.format("MMMM")}</span><span class="separator"></span><span class="day">${a.format("DD")}</span><span class="separator"></span><span class="year">${a.format("YYYY")}</span>`;case 28:return`<span class="month">${a.format("MMMM")}</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="separator"></span><span class="year">${a.format("YYYY")}</span>`;case 29:return`<span class="month">${a.format("MMMM")}</span><span class="separator">-</span><span class="day">${a.format("DD")}</span>`;case 30:return`<span class="month">${a.format("MMMM")}</span><span class="separator">-</span><span class="day">${a.format("D")}</span>`;case 31:return`<span class="month">${a.format("MMM")}</span><span class="separator">-</span><span class="day">${a.format("DD")}</span>`;case 32:return`<span class="month">${a.format("MMM")}</span><span class="separator">-</span><span class="day">${a.format("D")}</span>`;case 33:return`<span class="day">${a.format("DD")}</span><span class="separator">-</span><span class="month">${a.format("MMMM")}</span>`;case 34:return`<span class="day">${a.format("D")}</span><span class="separator">-</span><span class="month">${a.format("MMMM")}</span>`;case 35:return`<span class="day">${a.format("DD")}</span><span class="separator">-</span><span class="month">${a.format("MMM")}</span>`;case 36:return`<span class="day">${a.format("D")}</span><span class="separator">-</span><span class="month">${a.format("MMM")}</span>`;case 37:return`<span class="year">${a.format("YYYY")}</span><span class="year-unit">年</span><span class="separator"></span><span class="month">${a.format("MM")}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("DD")}</span><span class="day-unit">日</span>`;case 38:return`<span class="year">${a.format("YYYY")}</span><span class="year-unit">年</span><span class="separator"></span><span class="month">${a.format("M")}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span>`;case 39:return`<span class="month">${a.format("MM")}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("DD")}</span><span class="day-unit">日</span>`;case 40:return`<span class="month">${a.format("M")}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span>`;case 41:return`<span class="year">${a.format("YY")}</span><span class="year-unit">年</span><span class="separator"></span><span class="month">${a.format("MM")}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("DD")}</span><span class="day-unit">日</span>`;case 42:return`<span class="year">${a.format("YY")}</span><span class="year-unit">年</span><span class="separator"></span><span class="month">${a.format("M")}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span>`;case 43:return`<span class="year">${M(a.format("YYYY"))}</span><span class="year-unit">年</span><span class="separator"></span><span class="month">${m[n]}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${y[s]}</span><span class="day-unit">日</span>`;case 44:return`<span class="year">${M(a.format("YY"))}</span><span class="year-unit">年</span><span class="separator"></span><span class="month">${m[n]}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${y[s]}</span><span class="day-unit">日</span>`;case 45:return`<span class="month">${m[n]}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${y[s]}</span><span class="day-unit">日</span>`;case 46:return`<span class="month">${m[n]}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("DD")}</span><span class="day-unit">日</span>`;case 47:return`<span class="month">${m[n]}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span>`;case 48:return`<span class="month">${l[n]}</span><span class="separator"></span><span class="day">${y[s]}</span><span class="day-unit">日</span>`;case 49:return`<span class="month">${l[n]}</span><span class="separator"></span><span class="day">${a.format("DD")}</span><span class="day-unit">日</span>`;case 50:return`<span class="month">${l[n]}</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span>`;case 51:return`<span class="year">${a.format("YYYY")}</span><span class="year-unit">年</span><span class="separator"></span><span class="month">${l[n]}</span><span class="separator"></span><span class="day">${a.format("DD")}</span><span class="day-unit">日</span>`;case 52:return`<span class="year">${a.format("YYYY")}</span><span class="year-unit">年</span><span class="separator"></span><span class="month">${l[n]}</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span>`;case 53:return`<span class="year">${a.format("YY")}</span><span class="year-unit">年</span><span class="separator"></span><span class="month">${l[n]}</span><span class="separator"></span><span class="day">${a.format("DD")}</span><span class="day-unit">日</span>`;case 54:return`<span class="year">${a.format("YY")}</span><span class="year-unit">年</span><span class="separator"></span><span class="month">${l[n]}</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span>`;case 55:return`<span class="day">${a.format("D")}</span><span class="separator"></span><span class="month">${a.format("MMM")}</span><span class="separator"></span><span class="small-week">(${a.format("ddd")})</span>`;case 56:return`<span class="day">${a.format("D")}</span><span class="separator"></span><span class="month">${a.format("MMM")}</span><span class="separator"></span><span class="small-week">(${u[p]})</span>`;case 57:return`<span class="day">${a.format("D")}</span><span class="separator"></span><span class="month">${a.format("MMM")}</span><span class="separator"></span><span class="small-week">(${i[p]})</span>`;case 58:return`<span class="day">${a.format("D")}</span><span class="separator"></span><span class="month">${a.format("MMM")}</span><span class="separator"></span><span class="small-week">(${h[p]})</span>`;case 59:return`<span class="day">${a.format("D")}</span><span class="separator"></span><span class="month">${a.format("MMM")}</span><span class="separator"></span><span class="small-week">(${d[p]})</span>`;case 60:return`<span class="month">${m[n]}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span><span class="separator"></span><span class="small-week">(${$[p]})</span>`;case 61:return`<span class="month">${a.format("M")}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span><span class="separator"></span><span class="small-week">(${$[p]})</span>`;case 62:return`<span class="month">${m[n]}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span><span class="separator"></span><span class="small-week">(${i[p]})</span>`;case 63:return`<span class="month">${a.format("M")}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span><span class="separator"></span><span class="small-week">(${i[p]})</span>`;case 64:return`<span class="month">${m[n]}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span><span class="separator"></span><span class="small-week">(${h[p]})</span>`;case 65:return`<span class="month">${a.format("M")}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span><span class="separator"></span><span class="small-week">(${h[p]})</span>`;case 66:return`<span class="month">${m[n]}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span><span class="separator"></span><span class="small-week">(${d[p]})</span>`;case 67:return`<span class="month">${a.format("M")}</span><span class="month-unit">月</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span><span class="separator"></span><span class="small-week">(${d[p]})</span>`;case 68:return`<span class="month">${l[n]}</span><span class="separator"></span><span class="day">${a.format("D")}</span><span class="day-unit">日</span><span class="separator"></span><span class="small-week">(${$[p]})</span>`}})(a),c.week=(a=>{const s=a.day();switch(e.weekFormat){case 1:default:return`<span class="weekday">${a.format("dddd")}</span>`;case 2:return`<span class="weekday">${a.format("ddd")}</span>`;case 3:return`<span class="weekday">${u[s]}</span>`;case 4:return`<span class="weekday">${$[s]}</span>`;case 5:return`<span class="weekday">${f[s]}</span>`;case 6:return`<span class="weekday">${d[s]}</span>`;case 7:return`<span class="weekday">${h[s]}</span>`;case 8:return`<span class="weekday">${i[s]}</span>`}})(a),c.time=(a=>{const s=a.hour(),n=s<12?"午前":"午後",p=D(s);switch(e.timeFormat){case 1:default:return`<span class="hour">${a.format("HH")}</span><span class="h-colon">:</span><span class="minute">${a.format("mm")}</span><span class="m-colon">:</span><span class="second">${a.format("ss")}</span>`;case 2:return`<span class="hour">${a.format("H")}</span><span class="h-colon">:</span><span class="minute">${a.format("m")}</span><span class="m-colon">:</span><span class="second">${a.format("s")}</span>`;case 3:return`<span class="hour">${a.format("hh")}</span><span class="h-colon">:</span><span class="minute">${a.format("mm")}</span><span class="m-colon">:</span><span class="second">${a.format("ss")}</span><span class="meridiem">${a.format("A")}</span>`;case 4:return`<span class="hour">${a.format("h")}</span><span class="h-colon">:</span><span class="minute">${a.format("m")}</span><span class="m-colon">:</span><span class="second">${a.format("s")}</span><span class="meridiem">${a.format("A")}</span>`;case 5:return`<span class="hour">${a.format("hh")}</span><span class="h-colon">:</span><span class="minute">${a.format("mm")}</span><span class="m-colon">:</span><span class="second">${a.format("ss")}</span><span class="meridiem">${a.format("a")}</span>`;case 6:return`<span class="hour">${a.format("h")}</span><span class="h-colon">:</span><span class="minute">${a.format("m")}</span><span class="m-colon">:</span><span class="second">${a.format("s")}</span><span class="meridiem">${a.format("a")}</span>`;case 7:return`<span class="hour">${a.format("HH")}</span><span class="h-colon">:</span><span class="minute">${a.format("mm")}</span>`;case 8:return`<span class="hour">${a.format("H")}</span><span class="h-colon">:</span><span class="minute">${a.format("m")}</span>`;case 9:return`<span class="hour">${a.format("hh")}</span><span class="h-colon">:</span><span class="minute">${a.format("mm")}</span><span class="meridiem">${a.format("A")}</span>`;case 10:return`<span class="hour">${a.format("h")}</span><span class="h-colon">:</span><span class="minute">${a.format("m")}</span><span class="meridiem">${a.format("A")}</span>`;case 11:return`<span class="hour">${a.format("hh")}</span><span class="h-colon">:</span><span class="minute">${a.format("mm")}</span><span class="meridiem">${a.format("a")}</span>`;case 12:return`<span class="hour">${a.format("h")}</span><span class="h-colon">:</span><span class="minute">${a.format("m")}</span><span class="meridiem">${a.format("a")}</span>`;case 13:return`<span class="hour">${a.format("hh")}</span><span class="h-colon">:</span><span class="minute">${a.format("mm")}</span><span class="m-colon">:</span><span class="second">${a.format("ss")}</span><span class="meridiem">${n}</span>`;case 14:return`<span class="hour">${a.format("h")}</span><span class="h-colon">:</span><span class="minute">${a.format("m")}</span><span class="m-colon">:</span><span class="second">${a.format("s")}</span><span class="meridiem">${n}</span>`;case 15:return`<span class="hour">${a.format("hh")}</span><span class="h-colon">:</span><span class="minute">${a.format("mm")}</span><span class="meridiem">${n}</span>`;case 16:return`<span class="hour">${a.format("h")}</span><span class="h-colon">:</span><span class="minute">${a.format("m")}</span><span class="meridiem">${n}</span>`;case 17:return`<span class="hour">${a.format("hh")}</span><span class="h-colon">:</span><span class="minute">${a.format("mm")}</span><span class="m-colon">:</span><span class="second">${a.format("ss")}</span><span class="meridiem">${p}</span>`;case 18:return`<span class="hour">${a.format("h")}</span><span class="h-colon">:</span><span class="minute">${a.format("m")}</span><span class="m-colon">:</span><span class="second">${a.format("s")}</span><span class="meridiem">${p}</span>`;case 19:return`<span class="hour">${a.format("hh")}</span><span class="h-colon">:</span><span class="minute">${a.format("mm")}</span><span class="meridiem">${p}</span>`;case 20:return`<span class="hour">${a.format("h")}</span><span class="h-colon">:</span><span class="minute">${a.format("m")}</span><span class="meridiem">${p}</span>`;case 21:return`<span class="hour">${a.format("HH")}</span><span class="h-unit">時</span><span class="minute">${a.format("mm")}</span><span class="m-unit">分</span><span class="second">${a.format("ss")}</span><span class="s-unit">秒</span>`;case 22:return`<span class="hour">${a.format("H")}</span><span class="h-unit">時</span><span class="minute">${a.format("m")}</span><span class="m-unit">分</span><span class="second">${a.format("s")}</span><span class="s-unit">秒</span>`;case 23:return`<span class="f-meridiem">${n}</span><span class="hour">${a.format("hh")}</span><span class="h-unit">時</span><span class="minute">${a.format("mm")}</span><span class="m-unit">分</span><span class="second">${a.format("ss")}</span><span class="s-unit">秒</span>`;case 24:return`<span class="f-meridiem">${n}</span><span class="hour">${a.format("h")}</span><span class="h-unit">時</span><span class="minute">${a.format("m")}</span><span class="m-unit">分</span><span class="second">${a.format("s")}</span><span class="s-unit">秒</span>`;case 25:return`<span class="f-meridiem">${n}</span><span class="hour">${a.format("hh")}</span><span class="h-unit">時</span><span class="minute">${a.format("mm")}</span><span class="m-unit">分</span>`;case 26:return`<span class="f-meridiem">${n}</span><span class="hour">${a.format("h")}</span><span class="h-unit">時</span><span class="minute">${a.format("m")}</span><span class="m-unit">分</span>`;case 27:return`<span class="f-meridiem">${p}</span><span class="hour">${a.format("h")}</span><span class="h-unit">時</span><span class="minute">${a.format("mm")}</span><span class="m-unit">分</span>`;case 28:return`<span class="f-meridiem">${p}</span><span class="hour">${a.format("h")}</span><span class="h-unit">時</span><span class="minute">${a.format("m")}</span><span class="m-unit">分</span>`;case 29:return`<span class="f-meridiem">${p}</span><span class="hour">${a.format("h")}</span><span class="h-unit">時</span><span class="minute">${a.format("mm")}</span><span class="m-unit">分</span><span class="second">${a.format("ss")}</span><span class="s-unit">秒</span>`;case 30:return`<span class="f-meridiem">${p}</span><span class="hour">${a.format("h")}</span><span class="h-unit">時</span><span class="minute">${a.format("m")}</span><span class="m-unit">分</span><span class="second">${a.format("s")}</span><span class="s-unit">秒</span>`}})(a),o.timestamp=s,o.year=a.format("YYYY"),o.yearShort=a.format("YY"),o.zhYear=M(a.format("YYYY")),o.zhYearShort=M(a.format("YY")),o.zhYearUnit="年",o.jaYearUnit="年",o.month=a.format("MM"),o.monthShort=a.format("M"),o.enMonth=a.format("MMMM"),o.enMonthShort=a.format("MMM"),o.jaMonth=l[t],o.zhMonth=m[t],o.jaMonthUnit="月",o.zhMonthUnit="月",o.day=a.format("DD"),o.dayShort=a.format("D"),o.jaDayUnit="日",o.zhDayUnit="日",o.zhDay=y[p],o.enWeek=a.format("dddd"),o.enWeekShort=a.format("ddd"),o.jaWeek=u[n],o.jaWeekShort=$[n],o.zhWeek=f[n],o.zhWeekShort=i[n],o.zhCnWeekShort=d[n],o.zhTwWeekShort=h[n],o.hour24=a.format("HH"),o.hour12=a.format("hh"),o.hour24Short=a.format("H"),o.hour12Short=a.format("h"),o.jaHourUnit="時",o.zhCnHourUnit="时",o.zhTwHourUnit="時",o.minute=a.format("mm"),o.minuteShort=a.format("m"),o.jaMinuteUnit="分",o.zhCnMinuteUnit="分",o.zhTwMinuteUnit="分",o.second=a.format("ss"),o.secondShort=a.format("s"),o.jaSecondUnit="秒",o.zhCnSecondUnit="秒",o.zhTwSecondUnit="秒",o.meridiem=a.format("a"),o.meridiemCap=a.format("A"),o.jaMeridiem=Y,o.zhMeridiem=w};return onMounted((async()=>{await(async()=>{try{const a=await fetch(`${n.baseURL}/api/plugins/${uid}?code=${n.code}&isCustom=${n.isCustom}&presetId=${n.presetId}&templateId=${n.templatePath}&datetime=true`,{method:"GET"}),{response:s}=await a.json();s&&s.data.preset&&r(s.data.preset),s&&s.data.datetime&&(e.isAutoTimezone=s.data.datetime.isAutoTimezone,e.timeZone=s.data.datetime.timeZone),document.body.removeAttribute("hidden")}catch(a){}})(),(()=>{if(e.isAutoTimezone){const a=dayjs.tz.guess();dayjs.tz.setDefault(a)}else{const a=e.timeZone;dayjs.tz.setDefault(a)}})(),window.addEventListener("storage",t),Y(),setInterval(Y,1e3)})),onUnmounted((()=>{window.removeEventListener("storage",t)})),{format:c,element:o}}}).mount("#app");