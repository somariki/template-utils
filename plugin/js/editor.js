import{SlVueTreeNext}from"../vendor/tree/sl-vue-tree-next.global.js";const{createApp,ref,reactive,onMounted,computed,watch}=Vue,{useQuasar,copyToClipboard}=Quasar,VueJsonPretty=window.VueJsonPretty.default,uid="onecomme.plugin.template-utils",nodeData=[{title:"preset-1",data:{isRoot:!0,name:null,code:"template-code",type:null,isOriginal:!0,indexFile:null,assetFile:"asset1.json",presetFile:"preset1.json",cssFile:"preset1.css",presetId:1}}],app=createApp({components:{SlVueTreeNext,VueJsonPretty},setup(){const e=useQuasar(),a=ref(!1),t=reactive({windowWidth:window.innerWidth,windowHeight:window.innerHeight,splitterHeight:0,splitterHeightRate:.5,goodShowSize:600,splitterLimit:[25,75],splitterCur:Number(localStorage.getItem("editorSplitterCur"))||45,reviewMax:0,lg:[],toolMenu:!1}),l=reactive({projectFileName:"project.json",mainFileName:"main.json",assetFileName:"asset.json",presetFileName:"preset.json",cssFileName:"preset.css",uploadedFileName:null,assetFileSelected:null,assetFileOpt:[{label:null,value:null}],presetFileSelected:null,presetFileOpt:[{label:null,value:null}],cssFileSelected:null,cssFileOpt:[{label:null,value:null}]}),i=()=>{t.windowWidth=window.innerWidth,t.windowHeight=window.innerHeight,t.reviewMax=o.value,t.splitterHeight=t.windowHeight},o=computed((()=>Math.round(t.windowWidth*(t.splitterCur/100)))),u=(computed((()=>Math.round(t.windowHeight*t.splitterHeightRate))),reactive({currentTab:localStorage.getItem("editorCurrentTab")||"root"})),n=reactive({lastEvent:"No last event",selectedNodesTitle:""}),r=reactive({title:"OneComme | Template Utils",baseURL:`${window.location.protocol}//${window.location.host}`,hostURL:["http://127.0.0.1:11180"],localURL:"http://localhost:11180",appVersion:"1.0.0",pluginVersion:"2.0.0",pluginAuthor:"Soma"}),s=ref(nodeData),c=ref([]),d=ref([]),m=ref([]),v=ref({}),b=ref([]),p=reactive({selectedData:null,isVisible:!1,level:0}),g={title:"title",level:0,isRoot:!1,isSection:!1,isPart:!1,isAttribute:!1};let f=reactive({...g});const h=[{label:"Size",value:"size"},{label:"Size Condition",value:"size-condition"},{label:"Size Range Condition",value:"size-range-condition"},{label:"Number",value:"number"},{label:"Double Number",value:"double"},{label:"Color",value:"color"},{label:"Margin",value:"margin"},{label:"Border",value:"border"},{label:"Padding",value:"padding"},{label:"Border Top",value:"border-top"},{label:"Border Right",value:"border-right"},{label:"Border Bottom",value:"border-bottom"},{label:"Border Left",value:"border-left"},{label:"Radius",value:"radius"},{label:"Font Weight",value:"font-weight"},{label:"Font",value:"font"},{label:"Text Align",value:"text-align"},{label:"Justify Content",value:"justify-content"},{label:"Align Content",value:"align-content"},{label:"Align Items",value:"align-items"},{label:"Display",value:"display"},{label:"Edge",value:"edge"},{label:"Position",value:"position"},{label:"Time",value:"time"},{label:"Timing Function",value:"timing-function"},{label:"Flex Column",value:"flex-column"},{label:"Flex Row",value:"flex-row"},{label:"Flex Direction",value:"flex-direction"},{label:"Transform Translate",value:"transform-translate"},{label:"Image",value:"image"},{label:"Content",value:"content"},{label:"Text Shadow",value:"text-shadow"},{label:"Box Shadow",value:"box-shadow"},{label:"Boolean Multoggle",value:"boolean-multoggle"},{label:"Button Toggle",value:"button-toggle"},{label:"Button Toggle Combo",value:"button-toggle-2"},{label:"Degree",value:"degree"},{label:"Linear Gradient",value:"linear-gradient"},{label:"Linear Gradient 2",value:"linear-gradient-2"},{label:"OneComme Services",value:"onecomme-services"},{label:"OneComme Gank ID",value:"onecomme-gank-id"},{label:"OneComme Counter Current",value:"onecomme-counter-current"},{label:"OneComme Counter Target",value:"onecomme-counter-target"},{label:"OneComme Counter Field",value:"onecomme-counter-field"},{label:"DateTime-Date Format",value:"datetime-date-format"},{label:"DateTime-Weekday Format",value:"datetime-weekday-format"},{label:"DateTime-Time Format",value:"datetime-time-format"}],y=ref(null),N=reactive({assetOption:[{label:"Comment Template",value:"comment-template"},{label:"Time Utils",value:"time-utils"},{label:"Progress Bar",value:"progress-bar"},{label:"Gank Donation Bar",value:"gank-donation-bar"},{label:"Set List",value:"set-list"},{label:"Concurrent Viewers",value:"concurrent-viewers"},{label:"Counter",value:"counter"},{label:"Other",value:"other"}],codeRules:[e=>/^[a-zA-Z0-9-_]*$/.test(e)||"Only letters, numbers, and hyphens are allowed",e=>!!e||"This field is required"],noemptyRules:[e=>!!e||"This field is required"],selectRules:[e=>!!e||"This field is required"],attrOptions:h,colorFormat:"hexa|rgba",titleMax:50,codeMax:150,langMax:60,descrMax:200,rateOpt:[{label:"10 Sec",value:10},{label:"20 Sec",value:20},{label:"30 Sec",value:30},{label:"60 Sec",value:60},{label:"120 Sec",value:120},{label:"300 Sec",value:300},{label:"600 Sec",value:600}],dateFormat:[{value:1,label:"2025/06/09 (YYYY/MM/DD)"},{value:2,label:"2025/6/9 (YYYY/M/D)"},{value:3,label:"09/06/2025 (DD/MM/YYYY)"},{value:4,label:"9/6/2025 (M/D/YYYY)"},{value:5,label:"09/06/25 (DD/MM/YY)"},{value:6,label:"9/6/25 (D/M/YY)"},{value:7,label:"06/09 (MM/DD)"},{value:8,label:"6/9 (M/D)"},{value:9,label:"09/06 (D/M)"},{value:10,label:"9/6 (D/M)"},{value:11,label:"09/June (DD/MMMM)"},{value:12,label:"9/June (D/MMMM)"},{value:13,label:"09/Jun (DD/MMM)"},{value:14,label:"9/Jun (D/MMM)"},{value:15,label:"09 June 2025 (DD MMMM YYYY)"},{value:16,label:"9 June 2025 (D MMMM YYYY)"},{value:17,label:"09 Jun 2025 (DD MMM YYYY)"},{value:18,label:"9 Jun 2025 (D MMM YYYY)"},{value:19,label:"09 June (DD MMMM)"},{value:20,label:"9 June (DD MMMM)"},{value:21,label:"June/09 (MMMM/DD)"},{value:22,label:"June/9 (MMMM/D)"},{value:23,label:"Jun/09 (MMM/DD)"},{value:24,label:"Jun/9 (MMM/D)"},{value:25,label:"June 09 (MMMM/DD)"},{value:26,label:"Jun 9 (MMM/D)"},{value:27,label:"June 09 2025 (MMMM DD YYYY)"},{value:28,label:"Jun 9 2025 (MMM D YYYY)"},{value:29,label:"June-09 (MMMM-DD)"},{value:30,label:"June-9 (MMMM-D)"},{value:31,label:"Jun-09 (MMM-DD)"},{value:32,label:"Jun-9 (MMM-D)"},{value:33,label:"09-June (DD-MMMM)"},{value:34,label:"9-June (D-MMMM)"},{value:35,label:"09-Jun (DD-MMM)"},{value:36,label:"9-Jun (D-MMM)"},{value:37,label:"2025年06月09日 (YYYY年MM月DD日)-简体-繁體-日本語"},{value:38,label:"2025年6月9日 (YYYY年M月D日)-简体-繁體-日本語"},{value:39,label:"06月09日 (MM月DD日)-简体-繁體-日本語"},{value:40,label:"6月9日 (M月D日)-简体-繁體-日本語"},{value:41,label:"25年09月06日 (YY年MM月DD日)-简体-繁體-日本語"},{value:42,label:"25年6月9日 (YY年M月D日)-简体-繁體-日本語"},{value:43,label:"二〇二五年 六月 九日 (YYYY年 MMMM月 DD日)-简体-繁體"},{value:44,label:"二五年 六月 九日 (YY年 MM月 DD日)-简体-繁體"},{value:45,label:"六月 九日 (MMMM月DD日)-简体-繁體-日本語"},{value:46,label:"六月09日 (MMMM月DD日)-简体-繁體-日本語"},{value:47,label:"六月9日 (MMMM月D日)-简体-繁體-日本語"},{value:48,label:"水無月九日 (MMMM月DD日)-日本語"},{value:49,label:"水無月09日 (MMMM月DD日)-日本語"},{value:50,label:"水無月9日 (MMMM月D日)-日本語"},{value:51,label:"2025年水無月09日 (YYYY年 MMMM月 DD日)-日本語"},{value:52,label:"2025年水無月9日 (YYYY年 MMMM月 D日)-日本語"},{value:53,label:"25年水無月09日 (YY年 MMMM月 DD日)-日本語"},{value:54,label:"25年水無月9日 (YY年 MMMM月 D日)-日本語"},{value:55,label:"9 Jun (Fri) (D-MMM) W - English"},{value:56,label:"9 Jun (金) (D-MMM) W - 日本語"},{value:57,label:"9 Jun (五) (D-MMM) W - 简体-繁體"},{value:58,label:"9 Jun (週五) (D-MMM) W - 繁體"},{value:59,label:"9 Jun (周五) (D-MMM) W - 简体"},{value:60,label:"六月 9日 (金) (M月 D日) W - 日本語"},{value:61,label:"6月 9日 (金) (M月 D日) W - 日本語"},{value:62,label:"六月 9日 (五) (M月 D日) W - 简体-繁體"},{value:63,label:"6月 9日 (五) (M月 D日) W - 简体-繁體"},{value:64,label:"六月 9日 (週五) (M月 D日) W - 繁體"},{value:65,label:"6月 9日 (週五) (M月 D日) W - 繁體"},{value:66,label:"六月 9日 (周五) (M月 D日) W - 简体"},{value:67,label:"6月 9日 (周五) (M月 D日) W - 简体"},{value:68,label:"文月 9日 (金) (M月 D日) W - 日本語"}],weekdayFormat:[{value:1,label:"Friday (dddd)"},{value:2,label:"Fri (ddd)"},{value:3,label:"金曜日 (dddd)"},{value:4,label:"金 (ddd)"},{value:5,label:"星期五 (dddd)"},{value:6,label:"周五 (ddd)"},{value:7,label:"週五 (ddd)"},{value:8,label:"五 (dd)"}],timeFormat:[{value:1,label:"13:05:05 (HH:mm:ss)"},{value:2,label:"13:5:5 (H:m:s)"},{value:3,label:"01:05:05 PM (hh:mm:ss A)"},{value:4,label:"1:5:5 PM (h:m:s A)"},{value:5,label:"01:05:05 pm (hh:mm a)"},{value:6,label:"1:5:5 pm (h:m a)"},{value:7,label:"13:05 (HH:mm)"},{value:8,label:"13:5 (H:m)"},{value:9,label:"01:05 PM (hh:mm A)"},{value:10,label:"1:5 PM (h:m A)"},{value:11,label:"01:05 pm (hh:mm a)"},{value:12,label:"1:5 pm (h:m a)"},{value:13,label:"01:05:05 午後 (hh:mm:ss A)"},{value:14,label:"1:5:5 午後 (h:m:s A)"},{value:15,label:"01:05 午後 (hh:mm A)"},{value:16,label:"1:5 午後 (h:m A)"},{value:17,label:"01:05:05 中午 (hh:mm a)"},{value:18,label:"1:5:5 中午 (h:m:s a)"},{value:19,label:"01:05 中午 (hh:mm a)"},{value:20,label:"1:5 中午 (h:m a)"},{value:21,label:"13時05分05秒 (HH時mm分ss秒)"},{value:22,label:"13時5分5秒 (HH時m分s秒)"},{value:23,label:"午後01時05分05秒 (A hh時mm分ss秒)"},{value:24,label:"午後1時5分5秒 (A h時m分s秒)"},{value:25,label:"午後01時05分 (A hh時mm分)"},{value:26,label:"午後1時5分 (A h時m分)"},{value:27,label:"下午01時05分 (A hh時mm分)"},{value:28,label:"下午1時5分 (A h時m分)"},{value:29,label:"下午01時05分05秒 (A hh時mm分ss秒)"},{value:30,label:"下午1時5分5秒 (A h時m分s秒)"}],fontType:[{label:"none",value:"None"},{label:"serif",value:"Serif"},{label:"sans-serif",value:"Sans-serif"},{label:"monospace",value:"Monospace"},{label:"cursive",value:"Cursive"},{label:"fantasy",value:"Fantasy"}],fontStyle:[{label:"Normal",value:"normal"},{label:"Italic",value:"italic"}],fontSize:[{label:"PX",value:"px"}],fontOpt:[{label:"BIZ UDGothic",value:"BIZ UDGothic"},{label:"BIZ UDMincho",value:"BIZ UDMincho"},{label:"BIZ UDPGothic",value:"BIZ UDPGothic"},{label:"BIZ UDPMincho",value:"BIZ UDPMincho"},{label:"cwTeXKai",value:"cwTeXKai"},{label:"cwTeXFangSong",value:"cwTeXFangSong"},{label:"cwTeXYen",value:"cwTeXYen"},{label:"Dela Gothic One",value:"Dela Gothic One"},{label:"DotGothic16",value:"DotGothic16"},{label:"Hachi Maru Pop",value:"Hachi Maru Pop"},{label:"Hina Mincho",value:"Hina Mincho"},{label:"Kaisei Decol",value:"Kaisei Decol"},{label:"Kaisei HarunoUmi",value:"Kaisei HarunoUmi"},{label:"Kaisei Opti",value:"Kaisei Opti"},{label:"Kaisei Tokumin",value:"Kaisei Tokumin"},{label:"Kiwi Maru",value:"Kiwi Maru"},{label:"Klee One",value:"Klee One"},{label:"Kosugi",value:"Kosugi"},{label:"Kosugi Maru",value:"Kosugi Maru"},{label:"Long Cang",value:"Long Cang"},{label:"Liu Jian Mao Cao",value:"Liu Jian Mao Cao"},{label:"Ma Shan Zheng",value:"Ma Shan Zheng"},{label:"MiSans",value:"MiSans"},{label:"MiSansTC",value:"MiSansTC"},{label:"M PLUS 1",value:"M PLUS 1"},{label:"M PLUS 1 Code",value:"M PLUS 1 Code"},{label:"M PLUS 1p",value:"M PLUS 1p"},{label:"M PLUS 2",value:"M PLUS 2"},{label:"M PLUS Rounded 1c",value:"M PLUS Rounded 1c"},{label:"Mochiy Pop One",value:"Mochiy Pop One"},{label:"Mochiy Pop P One",value:"Mochiy Pop P One"},{label:"Murecho",value:"Murecho"},{label:"New Tegomin",value:"New Tegomin"},{label:"Noto Sans",value:"Noto Sans"},{label:"Noto Sans JP",value:"Noto Sans JP"},{label:"Noto Sans SC",value:"Noto Sans SC"},{label:"Noto Sans TC",value:"Noto Sans TC"},{label:"Noto Serif",value:"Noto Serif"},{label:"Noto Serif JP",value:"Noto Serif JP"},{label:"Noto Serif SC",value:"Noto Serif SC"},{label:"Noto Serif TC",value:"Noto Serif TC"},{label:"Potta One",value:"Potta One"},{label:"Rampart One",value:"Rampart One"},{label:"Reggae One",value:"Reggae One"},{label:"RocknRoll One",value:"RocknRoll One"},{label:"Sawarabi Gothic",value:"Sawarabi Gothic"},{label:"Sawarabi Mincho",value:"Sawarabi Mincho"},{label:"Shippori Antique",value:"Shippori Antique"},{label:"Shippori Antique B1",value:"Shippori Antique B1"},{label:"Shippori Mincho",value:"Shippori Mincho"},{label:"Shippori Mincho B1",value:"Shippori Mincho B1"},{label:"Stick",value:"Stick"},{label:"Train One",value:"Train One"},{label:"Yomogi",value:"Yomogi"},{label:"Yuji Boku",value:"Yuji Boku"},{label:"Yuji Mai",value:"Yuji Mai"},{label:"Yuji Syuku",value:"Yuji Syuku"},{label:"Yusei Magic",value:"Yusei Magic"},{label:"ZCOOL KuaiLe",value:"ZCOOL KuaiLe"},{label:"ZCOOL QingKe HuangYou",value:"ZCOOL QingKe HuangYou"},{label:"ZCOOL XiaoWei",value:"ZCOOL XiaoWei"},{label:"Zen Antique",value:"Zen Antique"},{label:"Zen Antique Soft",value:"Zen Antique Soft"},{label:"Zen Dots",value:"Zen Dots"},{label:"Zen Kurenaido",value:"Zen Kurenaido"},{label:"Zen Loop",value:"Zen Loop"},{label:"Zhi Mang Xing",value:"Zhi Mang Xing"}],sizeDefaultOpt:[{label:"None",value:"none"},{label:"100%",value:"100%"},{label:"Fit-content",value:"fit-content"}]}),M=ref(null);function x(){p.selectedData=null,p.isVisible=!1}const S=()=>{if(p.selectedData&&p.selectedData.path){let e={title:null,data:{}};e.title=f.title?f.title.trim():null,f.isRoot&&(e.data.code=f.rootCode?f.rootCode.trim():null,e.data.name=f.title?f.title.trim():null,e.data.presetId=f.presetId?parseInt(f.presetId):null,e.data.type=f.rootType?f.rootType.trim():null,e.data.isOriginal=!f.isOriginal||f.rootIsOriginal,e.data.indexFile=f.indexFile?f.indexFile.trim():null,e.data.assetFile=f.assetFile?f.assetFile.trim():null,e.data.presetFile=f.presetFile?f.presetFile.trim():null,e.data.cssFile=f.cssFile?f.cssFile.trim():null),(f.isSection||f.isPart||f.isAttribute)&&(e.data.code=f.code?f.code.trim():null),(f.isSection||f.isPart||f.isAttribute)&&f.isLanguage&&(e.data.language||(e.data.language={}),f.isLanguage.forEach((a=>{e.data.language[a.lang]=!0===a.value&&f.language[a.lang]?f.language[a.lang]:null})));let a=!1,t={"en-US":null,ja:null,"zh-CN":null,"zh-TW":null};f.isAttribute&&(e.data.description||(e.data.description={}),!0===f.isDescription&&(a=!0),e.data.isDescription=a,f.description&&!0===f.isDescription&&f.isLanguage.forEach((e=>{t[e.lang]=!0===e.value&&f.description[e.lang]?f.description[e.lang]:null})),e.data.description=t),"isCss"in f&&(e.data.isCss=f.isCss),"isJs"in f&&(e.data.isJs=f.isJs),f.attribute&&(e.data.attribute=f.attribute),f.attributeSet&&(e.data.attributeSet=null,M.value.updateNode({path:p.selectedData.path,patch:e}),e.data.attributeSet=function(e,a){let t={};t.isSetCustom=!!a?.isSetCustom,t.isCustom=!!a?.isCustom,t.isOriginal=!!a?.isOriginal,a.isOriginal&&(t.oriFrom=a?.oriFrom||null);switch(e){case"time":t.valueType="number",t.value=Number(a?.value)||0,t.unit=a?.unit||"ms";break;case"timing-function":t.valueType="option",t.value=a?.value||"ease";break;case"flex-column":case"flex-direction":t.valueType="option",t.value=a?.value||"column";break;case"flex-row":t.valueType="option",t.value=a?.value||"row";break;case"transform-translate":t.valueType="option",t.value=a?.value||"100%";break;case"size":t.valueType="number",t.value=Number(a?.value)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100,t.unit=a?.unit||"px";break;case"size-condition":t.valueType="option",t.isDefault=a?.isDefault||!1,t.defaultValue=a?.defaultValue||"none",t.value=Number(a?.value)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100,t.unit=a?.unit||"px";break;case"size-range-condition":t.valueType="option",t.isDefault=a?.isDefault||!1,t.isDefaultMin=a?.isDefaultMin||!1,t.isDefaultMax=a?.isDefaultMax||!1,t.defaultValue=a?.defaultValue||"none",t.defaultValueMin=a?.defaultValueMin||"none",t.defaultValueMax=a?.defaultValueMax||"none",t.value=Number(a?.value)||0,t.valueMin=Number(a?.valueMin)||0,t.valueMax=Number(a?.valueMax)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100,t.unit=a?.unit||"px";break;case"number":case"double":t.valueType="number",t.value=Number(a?.value)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100;break;case"degree":t.valueType="number",t.value=Number(a?.value)||0,t.min=Number(a?.min)||-180,t.max=Number(a?.max)||180,t.unit=a?.unit||"deg";break;case"radius":t.valueType="number",t.valueTopLeft=Number(a?.valueTopLeft)||0,t.valueTopRight=Number(a?.valueTopRight)||0,t.valueBottomRight=Number(a?.valueBottomRight)||0,t.valueBottomLeft=Number(a?.valueBottomLeft)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100,t.unit=a?.unit||"px";break;case"border":case"border-top":case"border-right":case"border-bottom":case"border-left":t.valueType="number",t.value=Number(a?.value)||0,t.style=a?.style||"none",t.color=a?.color||"#FFFFFF",t.unit=a?.unit||"px",t.min=Number(a?.min)||0,t.max=Number(a?.max)||10;break;case"margin":case"padding":t.valueType="number",t.valueTop=Number(a?.valueTop)||0,t.valueRight=Number(a?.valueRight)||0,t.valueBottom=Number(a?.valueBottom)||0,t.valueLeft=Number(a?.valueLeft)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||50,t.unit=a?.unit||"px";break;case"color":t.valueType="string",t.value=a?.value||"#FFFFFF";break;case"font":t.valueType="multiple",t.color=a?.color||"#FFFFFF",t.type=a?.type||"none",t.style=a?.style||"normal",t.size=Number(a?.size)||0,t.unit=a?.unit||"px",t.weight=Number(a?.weight)||0,t.font=a?.font||null,t.cssvarColor=a?.cssvarColor||null,t.cssvarFont=a?.cssvarFont||null,t.cssvarSize=a?.cssvarSize||null,t.cssvarWeight=a?.cssvarWeight||null,t.minSize=Number(a?.minSize)||0,t.maxSize=Number(a?.maxSize)||50,t.minWeight=Number(a?.minWeight)||0,t.maxWeight=Number(a?.maxWeight)||900;break;case"font-weight":t.valueType="number",t.value=Number(a?.value)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||900;break;case"text-align":t.valueType="string",t.value=a?.value||"left";break;case"justify-content":case"justify-items":case"align-content":case"align-items":t.valueType="string",t.value=a?.value||"center";break;case"display":t.valueType="string",t.value=a?.value||"block";break;case"position":t.valueType="string",t.value=a?.value||"static";break;case"edge":t.valueType="number",t.value=Number(a?.value)||0,t.edge=a?.edge||"top",t.unit=a?.unit||"px",t.min=Number(a?.min)||0,t.max=Number(a?.max)||100;break;case"image":t.valueType="string",t.value=a?.value||null;break;case"content":t.valueType="string",t.value=a?.value||"";break;case"text-shadow":t.valueType="string",t.isEffect=a?.isEffect||!1,t.horizontal=Number(a?.horizontal)||0,t.vertical=Number(a?.vertical)||0,t.blur=Number(a?.blur)||0,t.unit=a?.unit||"px",t.color=a?.color||"#FFFFFF",t.minlength=Number(a?.minlength)||-30,t.maxlength=Number(a?.maxlength)||30,t.minblur=Number(a?.minblur)||-30,t.maxblur=Number(a?.maxblur)||30;break;case"box-shadow":t.valueType="string",t.isEffect=a?.isEffect||!1,t.horizontal=Number(a?.horizontal)||0,t.vertical=Number(a?.vertical)||0,t.blur=Number(a?.blur)||0,t.spread=Number(a?.spread)||0,t.unit=a?.unit||"px",t.color=a?.color||"#FFFFFF",t.inset=a?.inset||!1,t.minlength=Number(a?.minlength)||-30,t.maxlength=Number(a?.maxlength)||30,t.minblur=Number(a?.minblur)||-30,t.maxblur=Number(a?.maxblur)||30,t.minspread=Number(a?.minspread)||-20,t.maxspread=Number(a?.maxspread)||20;break;case"boolean-multoggle":t.valueType="array",t.toggle=a?.toggle||[];break;case"button-toggle":t.valueType="array",t.color=a?.color||"red",t.truedefine=a?.truedefine||null,t.falsedefine=a?.falsedefine||null,t.value=a?.value||null,t.togleOptions=Array.isArray(a?.togleOptions)?a?.togleOptions:[];break;case"button-toggle-2":t.valueType="array",t.color=a?.color||"red",t.value=a?.value||null,t.togleOptions=Array.isArray(a?.togleOptions)?a?.togleOptions:[];break;case"linear-gradient":t.valueType="array",t.minDeg=a?.minDeg||-360,t.maxDeg=a?.maxDeg||360,t.gradients=Array.isArray(a?.gradients)?a?.gradients:[];break;case"linear-gradient-2":t.valueType="array",t.minDeg=a?.minDeg||-360,t.maxDeg=a?.maxDeg||360,t.degree=a?.degree||0,t.degreeUnit=a?.degreeUnit||"deg",t.minStop=a?.minStop||0,t.maxStop=a?.maxStop||100,t.gradients=Array.isArray(a?.gradients)?a?.gradients:[defaultGradient];break;case"onecomme-services":t.valueType=a?.valueType||"string",t.value=a?.value||"service-id";break;case"onecomme-gank-id":t.valueType=a?.valueType||"string",t.value=a?.value||"";break;case"onecomme-counter-current":t.value=Number(a?.value)||0,t.counterIndex=Number(a?.counterIndex)||0,t.counterName=a?.counterName||"",t.counterType=a?.counterType||"current",t.min=Number(a?.min)||0,t.max=Number(a?.max)||1e6;break;case"onecomme-counter-target":t.value=Number(a?.value)||0,t.counterIndex=Number(a?.counterIndex)||0,t.counterName=a?.counterName||"",t.counterType=a?.counterType||"target",t.min=Number(a?.min)||0,t.max=Number(a?.max)||1e6;break;case"onecomme-counter-field":{t.counterIndex=Number(a?.counterIndex)||0,t.counterName=a?.counterName||"",t.valueType="string";const e=a?.value?a?.value:[];let l=[];l=Array.isArray(e)?e:C(e),t.value=l;break}case"datetime-date-format":case"datetime-weekday-format":case"datetime-time-format":t.value=Number(a?.value)||1}return t}(f.attribute,f.attributeSet)),M.value.updateNode({path:p.selectedData.path,patch:e});const l=s.value;D(l),T(l)}$.value=!1};function D(e){c.value=e.map(((e,a)=>({name:e.data.name,code:e.data.code,type:e.data.type,isOriginal:e.data.isOriginal,indexFile:e.data.indexFile,assetFile:e.data.assetFile,presetFile:e.data.presetFile,cssFile:e.data.cssFile,presetId:e.data.presetId,position:a}))),l.assetFileOpt=e.map(((e,a)=>({label:`${e.data.name} : ${e.data.assetFile}`,value:e.data.presetId}))),l.presetFileOpt=e.map(((e,a)=>({label:`${e.data.name} : ${e.data.presetFile}`,value:e.data.presetId}))),l.cssFileOpt=e.map(((e,a)=>({label:`${e.data.name} : ${e.data.cssFile}`,value:e.data.presetId})))}function T(e){const a=[],t=[],l=[];e.forEach((e=>{const i=e?.data?.code,o=e?.data?.presetId||null,u=e.children?function(e,a){if(!Array.isArray(e))return[];const t=[],l=[],i=[],o=[],u=[],n=[],r=[];e.forEach(((e,s)=>{if(!0===e.data?.isSection&&t.push({parentCode:a,code:e.data.code,position:s}),e.data?.language){const a=e.data?.language,t=e.data.code;if(!0===Object.values(a).some((e=>null!==e))){const e={code:t,...a};o.push(e)}}Array.isArray(e.children)&&e.children.forEach(((a,t)=>{if(a.data?.language){const e=a.data?.language,t=a.data.code;if(!0===Object.values(e).some((e=>null!==e))){const a={code:t,...e};o.push(a)}}!0===a.data?.isPart&&l.push({parentCode:e.data.code,code:a.data.code,position:t}),Array.isArray(a.children)&&a.children.forEach(((e,t)=>{let l={},s={};const c=e.data.attribute,d=e.data;if(d.language){const e=d?.language,a=d.code;if(!0===Object.values(e).some((e=>null!==e))){const t={code:a,...e};o.push(t)}}if(d.description){const e=d?.description,a=d.code;if(!0===Object.values(e).some((e=>null!==e))){const t={code:a,...e};u.push(t)}}const m={isVisible:d.visible,isCss:d.isCss,isJs:d.isJs},v=!!d?.attributeSet?.isSetCustom,b=!!d?.attributeSet?.isCustom,p=!!d?.attributeSet?.isOriginal,g=!v&&!b,f=d.isCss;switch(l.flag=m,l.isSetCustom=v,l.isCustom=b,s.isCustom=b,p?(l.isOriginal=!0,l.oriFrom=d?.attributeSet?.oriFrom||null):(l.isOriginal=!1,l.oriFrom=null),c){case"time":{const{value:e,unit:t}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=e,s.value=e,l.unit=t,s.unit=t,l.min_ms=0,l.max_ms=5e3,l.min_sec=0,l.max_sec=10,l.description=d.isDescription,f&&g){const a=`${e}${t}`,l=`--${d.code}`;r.push({cssvar:l,value:a})}break}case"timing-function":case"flex-column":case"flex-row":case"flex-direction":case"transform-translate":case"color":case"text-align":case"justify-content":case"justify-items":case"align-content":case"align-items":case"display":case"position":{const{value:e}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=e,s.value=e,l.description=d.isDescription,f&&g){const a=`${e}`,t=`--${d.code}`;r.push({cssvar:t,value:a})}break}case"image":{const{value:e}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=e,s.value=e,l.description=d.isDescription,f&&g){const a=`url('${e}')`,t=`--${d.code}`;r.push({cssvar:t,value:a})}break}case"content":{const{value:e}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=e,s.value=e,l.description=d.isDescription,f&&g){const a=`'${e}'`||"",t=`--${d.code}`;r.push({cssvar:t,value:a})}break}case"size":case"degree":{const{value:e,unit:t,min:i,max:o}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=Number(e),s.value=Number(e),l.unit=t,s.unit=t,l.min=Number(i),l.max=Number(o),l.masks={[i]:String(i),[o]:String(o)},l.description=d.isDescription,f&&g){const a=`${e}${t}`,l=`--${d.code}`;r.push({cssvar:l,value:a})}break}case"number":{const{value:e,min:t,max:i}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=Number(e),s.value=Number(e),l.min=Number(t),l.max=Number(i),l.masks={[t]:String(t),[i]:String(i)},l.description=d.isDescription,f&&g){const a=`${e}`,t=`--${d.code}`;r.push({cssvar:t,value:a})}break}case"double":{const{value:e,min:t,max:i}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=Number(e),s.value=Number(e),l.min=Number(t),l.max=Number(i),l.masks={[t]:String(t),[i]:String(i)},l.description=d.isDescription,f&&g){const a=`${e}`,t=`--${d.code}`;r.push({cssvar:t,value:a})}break}case"size-condition":{const{value:e,unit:t,min:i,max:o,isDefault:u,defaultValue:n}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=Number(e),s.value=Number(e),l.unit=t,s.unit=t,l.min=Number(i),l.max=Number(o),l.isDefault=u||!1,s.isDefault=u||!1,l.defaultValue=n||"none",s.defaultValue=n||"none",l.masks={[i]:String(i),[o]:String(o)},l.description=d.isDescription,f&&g){const a=u?n:`${e}${t}`,l=`--${d.code}`;r.push({cssvar:l,value:a})}break}case"size-range-condition":{const{value:e,valueMin:t,valueMax:i,unit:o,min:u,max:n,isDefault:m,isDefaultMin:v,isDefaultMax:b,defaultValue:p,defaultValueMin:h,defaultValueMax:y}=d.attributeSet,N={min:Number(t),max:Number(i)};if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=Number(e),s.value=Number(e),l.range=N,s.range=N,l.unit=o,s.unit=o,l.min=Number(u),l.max=Number(n),l.isDefault=m||!1,s.isDefault=m||!1,l.isDefaultMin=v||!1,s.isDefaultMin=v||!1,l.isDefaultMax=b||!1,s.isDefaultMax=b||!1,l.defaultValue=p||"none",s.defaultValue=p||"none",l.defaultValueMin=h||"none",s.defaultValueMin=h||"none",l.defaultValueMax=y||"none",s.defaultValueMax=y||"none",l.masks={[u]:String(u),[n]:String(n)},l.description=d.isDescription,f&&g){const a=m?p:`${e}${o}`,l=`--${d.code}`;r.push({cssvar:l,value:a});const u=!(!m||v)?`${t}${o}`:h,n=`--${d.code}-min`;r.push({cssvar:n,value:u});const s=!(!m||b)?`${i}${o}`:y,c=`--${d.code}-max`;r.push({cssvar:c,value:s})}break}case"radius":{const{valueTopLeft:e,valueTopRight:t,valueBottomRight:i,valueBottomLeft:o,unit:u,min:n,max:m}=d.attributeSet;l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.unit=u,s.unit=u,l.min=Number(n),l.max=Number(m);const v=[Number(e),Number(t),Number(i),Number(o)];if(l.value=v,s.value=v,l.masks={[n]:String(n),[m]:String(m)},l.description=d.isDescription,f&&g){const a=[`${e}${u}`,`${t}${u}`,`${i}${u}`,`${o}${u}`].join(" "),l=`--${d.code}`;r.push({cssvar:l,value:a})}break}case"margin":case"padding":{const{valueTop:e,valueRight:t,valueBottom:i,valueLeft:o,unit:u,min:n,max:m}=d.attributeSet;l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.unit=u,s.unit=u,l.min=Number(n),l.max=Number(m);const v=[Number(e),Number(t),Number(i),Number(o)];if(l.value=v,s.value=v,l.masks={[n]:String(n),[m]:String(m)},l.description=d.isDescription,f&&g){const a=[`${e}${u}`,`${t}${u}`,`${i}${u}`,`${o}${u}`].join(" "),l=`--${d.code}`;r.push({cssvar:l,value:a})}break}case"border":case"border-top":case"border-right":case"border-bottom":case"border-left":{const{value:e,style:t,color:i,unit:o,min:u,max:n}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=Number(e),s.value=Number(e),l.style=t,s.style=t,l.color=i,s.color=i,l.unit=o,s.unit=o,l.min=Number(u),l.max=Number(n),l.masks={[u]:String(u),[n]:String(n)},l.description=d.isDescription,f&&g){let a=null;a="none"===t?"none":[`${e}${o}`,`${t}`,`${i}`].join(" ");const l=`--${d.code}`;r.push({cssvar:l,value:a})}break}case"font":{const{cssvarColor:e,cssvarFont:t,cssvarSize:i,cssvarWeight:o,cssvarStyle:u,color:n,font:m,style:v,type:b,size:p,unit:h,weight:y,minSize:N,maxSize:M,minWeight:x,maxWeight:S}=d.attributeSet;if(l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.cssvarColor=`--${e}`,l.cssvarFont=`--${t}`,l.cssvarSize=`--${i}`,l.cssvarWeight=`--${o}`,l.color=n,s.color=n,l.font=m,s.font=m,l.style=v,s.style=v,l.type=b,s.type=b,l.size=p,s.size=p,l.unit=h,s.unit=h,l.weight=y,s.weight=y,l.minSize=N,l.maxSize=M,l.minWeight=x,l.maxWeight=S,l.description=d.isDescription,f&&g){if(e&&r.push({cssvar:`--${e}`,value:`${n}`}),i&&r.push({cssvar:`--${i}`,value:`${p}${h}`}),t){const e=m||"",a=b||"none";let l=e;"none"!==a&&(l=`${e}, ${a.toLowerCase()}`),r.push({cssvar:`--${t}`,value:`${l}`})}o&&r.push({cssvar:`--${o}`,value:`${y}`}),u&&r.push({cssvar:`--${u}`,value:`${v}`})}break}case"font-weight":{const{value:e,min:t,max:i}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=Number(e),s.value=Number(e),l.min=Number(t),l.max=Number(i),l.description=d.isDescription,f&&g){const a=`${e}`,t=`--${d.code}`;r.push({cssvar:t,value:a})}break}case"edge":{const{value:e,edge:t,unit:i,min:o,max:u}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=e,s.value=e,l.edge=t,s.edge=t,l.unit=i,s.unit=i,l.min=Number(o),l.max=Number(u),l.masks={[o]:String(o),[u]:String(u)},l.description=d.isDescription,f&&g){const a=`${e}${i}`,t=`--${d.code}`;r.push({cssvar:t,value:a})}break}case"text-shadow":{const{isEffect:e,horizontal:t,vertical:i,blur:o,unit:u,color:n,minlength:m,maxlength:v,minblur:b,maxblur:p}=d.attributeSet;l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.isEffect=e,l.horizontal=Number(t),l.vertical=Number(i),l.blur=Number(o),l.unit=u,l.color=n,s.isEffect=e,s.horizontal=Number(t),s.vertical=Number(i),s.blur=Number(o),s.unit=u,s.color=n,l.minlength=Number(m),l.maxlength=Number(v),l.minblur=Number(b),l.maxblur=Number(p),l.description=d.isDescription;if(f&&g){const a=!0===e?`${`${t}${u}`} ${`${i}${u}`} ${`${o}${u}`} ${n}`:"none",l=`--${d.code}`;r.push({cssvar:l,value:a})}break}case"box-shadow":{const{isEffect:e,horizontal:t,vertical:i,blur:o,unit:u,color:n,inset:m,spread:v,minlength:b,maxlength:p,minblur:h,maxblur:y,minspread:N,maxspread:M}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.isEffect=e,l.horizontal=Number(t),l.vertical=Number(i),l.blur=Number(o),l.unit=u,l.color=n,s.isEffect=e,s.horizontal=Number(t),s.vertical=Number(i),s.blur=Number(o),s.unit=u,s.color=n,l.inset=Boolean(m),l.spread=Number(v)||0,s.inset=Boolean(m),s.spread=Number(v)||0,l.minlength=Number(b),l.maxlength=Number(p),l.minblur=Number(h),l.maxblur=Number(y),l.minspread=Number(N),l.maxspread=Number(M),l.description=d.isDescription,f&&g){const a=`${`${t}${u}`} ${`${i}${u}`} ${`${o}${u}`} ${`${v}${u}`} ${n}`,l=!0===e?!0===m?`${a} inset`:a:"none",s=`--${d.code}`;r.push({cssvar:s,value:l})}break}case"boolean-multoggle":{const{toggle:e}=d.attributeSet;l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.toggle=e.map((e=>({code:e.code,name:e.name,value:e.value,truevalue:e.truevalue,falsevalue:e.falsevalue,cssvar:`--${e.code}`}))),s.toggle=e.map((e=>({code:e.code,value:e.value}))),l.description=d.isDescription,f&&g&&e.forEach((e=>{r.push({cssvar:`--${e.code}`,value:e.value})}));break}case"button-toggle":{const{truedefine:e,falsedefine:t,value:i,color:o,togleOptions:u}=d.attributeSet;if(l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.truedefine=e,l.falsedefine=t,l.value=i,s.value=i,l.color=o,l.togleOptions=u.map((e=>({...e,cssvar:`--${e.code}`}))),l.description=d.isDescription,f&&g){const a=i,l=e,o=t;u.forEach((e=>{const t=e.value===a?l:o;r.push({cssvar:`--${e.code}`,value:t})}))}break}case"button-toggle-2":{const{value:e,color:t,togleOptions:i}=d.attributeSet;if(l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=e,s.value=e,l.color=t,l.togleOptions=i,l.description=d.isDescription,f&&g){const a=i.find((a=>a.value===e));if(a){a.paramSet.forEach((e=>{r.push({cssvar:`--${e.code}`,value:e.value})}))}}break}case"linear-gradient":{const{minDeg:e,maxDeg:t,gradients:i}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.minDeg=e||-360,l.maxDeg=t||360,l.gradients=Array.isArray(i)?i:[],s.gradients=Array.isArray(i)?i:[],f&&g){const e=`--${d.code}`,a=i.map((e=>`linear-gradient(${e.degree}${e.unit}, ${e.color1}, ${e.color2})`)).join(",");r.push({cssvar:e,value:a})}break}case"linear-gradient-2":{const{minDeg:e,maxDeg:t,degree:i,degreeUnit:o,minStop:u,maxStop:n,gradients:m}=d.attributeSet;if(l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.minDeg=e||-360,l.maxDeg=t||360,l.degree=i||0,s.degree=i||0,l.degreeUnit=o||"deg",l.minStop=u||0,l.maxStop=n||100,l.gradients=Array.isArray(m)?m:[],s.gradients=Array.isArray(m)?m:[],f&&g){const e=`--${d.code}`,a=`linear-gradient(${i}${o}, ${m.map((e=>`${e.color} ${e.stop}${e.unit}`)).join(",")})`;r.push({cssvar:e,value:a})}break}case"onecomme-services":{const{value:e}=d.attributeSet;l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=e||"service-id",s.value=e||"service-id",l.description=d.isDescription,f&&g&&r.push({cssvar:`--${d.code}`,value:e||"service-id"});break}case"onecomme-gank-id":{const{value:e}=d.attributeSet;l.cssvar=`--${d.code}`,l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.value=e||"",s.value=e||"",l.description=d.isDescription,f&&g&&r.push({cssvar:`--${d.code}`,value:e||""});break}case"onecomme-counter-current":case"onecomme-counter-target":{const{counterName:e,counterIndex:t,counterType:i,min:o,max:u}=d.attributeSet;l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.attribute=c,l.counterIndex=Number(t),l.counterName=e,l.counterType=i,l.description=d.isDescription,l.min=Number(o),l.max=Number(u)}case"onecomme-counter-field":{const{value:e,counterName:t,counterIndex:i}=d.attributeSet;let o=[];o=Array.isArray(e)?e:C(e),l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.counterIndex=Number(i),l.counterName=t,l.attribute=c,l.value=o,s.value=o,l.description=d.isDescription;break}case"datetime-date-format":case"datetime-weekday-format":case"datetime-time-format":{const{value:e}=d.attributeSet;l.code=d.code,s.code=d.code,l.parentCode=a.data.code,l.value=e,s.value=e,l.attribute=c,l.description=d.isDescription}}i.push(l),n.push(s)}))}))}));const s={section:t,part:l,attribute:i,dataSet:n,language:o,description:u,cssData:r};return s}(e.children,i):[],n=Array.isArray(u.section)?u.section:[],r=Array.isArray(u.part)?u.part:[],s=Array.isArray(u.attribute)?u.attribute:[],c=Array.isArray(u.dataSet)?u.dataSet:[],d=Array.isArray(u.language)?u.language:[],m=Array.isArray(u.description)?u.description:[],v=Array.isArray(u.cssData)?u.cssData:[],b={parentCode:i,presetId:o},p={parentCode:i,presetId:o},g={parentCode:i,presetId:o};if(n.length>0&&(b.section=n),r.length>0&&(b.part=r),s.length>0&&(b.attribute=s),d.length>0&&(b.language=d),m.length>0&&(b.description=m),c.length>0&&(p.dataSet=c),Array.isArray(v)&&v.length>0){let e="";v.forEach((a=>{e+=`${a.cssvar}: ${a.value};\n`}));const a=`:root {\n${e}}`;g.data=a}a.push(b),t.push(p),l.push(g)})),d.value=a,m.value=t,b.value=l}function F(e,a){const t=JSON.stringify(a,null,2),l=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(l),o=document.createElement("a");o.href=i,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}function C(e){return"string"==typeof e?e.split("\n").map((e=>e.trim())).filter((e=>""!==e)):!!Array.isArray(e)&&e.join("\n")}const $=ref(!1),k=reactive({title:"title",code:null,content:"content",saveBtnLabel:"Save",cancelBtnLabel:"Cancel",actionBtnLabel:"OK",isSaveBtn:!1,isCancelBtn:!1,isActionBtn:!1}),O=ref(!1);watch((()=>t.splitterCur),((e,a)=>{localStorage.setItem("editorSplitterCur",e);let l=o.value;t.reviewMax=l})),watch(u,((e,a)=>{localStorage.setItem("editorCurrentTab",e.currentTab)})),watch($,(e=>{e||(Object.keys(f).forEach((e=>delete f[e])),Object.assign(f,g))})),watch((()=>f.code),(e=>{e!=f.title&&(f.title=e)})),watch((()=>f.attribute),((e,a)=>{void 0!==e&&e!=a&&function(e){const a=p.selectedData.data.attributeSet?p.selectedData.data.attributeSet:{};let t={};const l=[{label:"PX",value:"px"},{label:"%",value:"%"}],i=[{label:"none",value:"none"},{label:"hidden",value:"hidden"},{label:"dotted",value:"dotted"},{label:"dashed",value:"dashed"},{label:"solid",value:"solid"},{label:"double",value:"double"},{label:"groove",value:"groove"},{label:"ridge",value:"ridge"},{label:"outset",value:"outset"},{label:"initial",value:"initial"},{label:"inherit",value:"inherit"}],o=[{label:"Red",value:"red"},{label:"Pink",value:"pink"},{label:"Purple",value:"purple"},{label:"Deep Purple",value:"deep-purple"},{label:"Indigo",value:"indigo"},{label:"Blue",value:"blue"},{label:"Light Blue",value:"light-blue"},{label:"Cyan",value:"cyan"},{label:"Teal",value:"teal"},{label:"Green",value:"green"},{label:"Light Green",value:"light-green"},{label:"Lime",value:"lime"},{label:"Yellow",value:"yellow"},{label:"Amber",value:"amber"},{label:"Orange",value:"orange"},{label:"Deep Orange",value:"deep-orange"},{label:"Brown",value:"brown"},{label:"Grey",value:"grey"},{label:"Blue Grey",value:"blue-grey"}];switch(t.isSetCustom=!!a.isSetCustom,t.isCustom=!!a.isCustom,t.isOriginal=!!a.isOriginal,t.oriFrom=a.oriFrom||null,e){case"time":{f.code||(f.code="time");const e=[{unit:"ms",minName:"min_ms",maxName:"max_ms",min:0,max:5e3},{unit:"s",minName:"min_sec",maxName:"max_sec",min:0,max:10}];t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.unit=a?.unit||"ms",t.unitOption=a?.unitOption||e;break}case"timing-function":{f.code||(f.code="timing-function");const e=[{label:"linear",value:"linear"},{label:"ease",value:"ease"},{label:"ease-in",value:"ease-in"},{label:"ease-out",value:"ease-out"}];t.valueType=a?.valueType||"option",t.value=a?.value||"ease",t.unitOption=e;break}case"flex-column":{f.code||(f.code="flex-column");const e=[{label:"Column",value:"column"},{label:"Column reverse",value:"column-reverse"}];t.valueType=a?.valueType||"option",t.value=a?.value||"column",t.unitOption=e;break}case"flex-row":{f.code||(f.code="flex-row");const e=[{label:"Row",value:"row"},{label:"Row reverse",value:"row-reverse"}];t.valueType=a?.valueType||"option",t.value=a?.value||"row",t.unitOption=e;break}case"flex-direction":{f.code||(f.code="flex-direction");const e=[{label:"Column",value:"column"},{label:"Column reverse",value:"column-reverse"},{label:"Row",value:"row"},{label:"Row reverse",value:"row-reverse"}];t.valueType=a?.valueType||"option",t.value=a?.value||"column",t.unitOption=e;break}case"transform-translate":{f.code||(f.code="transform-translate");const e=[{label:"-100%",value:"-100%"},{label:"100%",value:"100%"}];t.valueType=a?.valueType||"option",t.value=a?.value||"100%",t.unitOption=e;break}case"size":f.code||(f.code="size"),t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100,t.unit=a?.unit||"px",t.unitOption=l;break;case"size-condition":f.code||(f.code="size-condition"),t.valueType=a?.valueType||"option",t.isDefault=a?.isDefault||!1,t.defaultValue=a?.defaultValue||"none",t.value=a?.value||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100,t.unit=a?.unit||"px",t.unitOption=l;break;case"size-range-condition":f.code||(f.code="size-range-condition"),t.valueType=a?.valueType||"option",t.isDefault=a?.isDefault||!1,t.isDefaultMin=a?.isDefaultMin||!1,t.isDefaultMax=a?.isDefaultMax||!1,t.defaultValue=a?.defaultValue||"none",t.defaultValueMin=a?.defaultValueMin||"none",t.defaultValueMax=a?.defaultValueMax||"none",t.value=a?.value||0,t.valueMin=a?.valueMin||0,t.valueMax=a?.valueMax||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100,t.unit=a?.unit||"px",t.unitOption=l;break;case"number":f.code||(f.code="number"),t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100;break;case"double":f.code||(f.code="double"),t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||3;break;case"degree":f.code||(f.code="degree"),t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.min=Number(a?.min)||-180,t.max=Number(a?.max)||180,t.unit=a?.unit||"deg";break;case"radius":f.code||(f.code="border-radius"),t.valueType=a?.valueType||"number",t.valueTopLeft=Number(a?.valueTopLeft)||0,t.valueTopRight=Number(a?.valueTopRight)||0,t.valueBottomRight=Number(a?.valueBottomRight)||0,t.valueBottomLeft=Number(a?.valueBottomLeft)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100,t.unit=a?.unit||"px",t.unitOption=l;break;case"border":f.code||(f.code="border"),t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.style=a?.style||"none",t.color=a?.color||"#FFFFFF",t.unit=a?.unit||"px",t.min=Number(a?.min)||0,t.max=Number(a?.max)||10,t.unitOption=l,t.styleOption=i;break;case"border-top":f.code||(f.code="border-top"),t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.style=a?.style||"none",t.color=a?.color||"#FFFFFF",t.unit=a?.unit||"px",t.min=Number(a?.min)||0,t.max=Number(a?.max)||10,t.unitOption=l,t.styleOption=i;break;case"border-right":f.code||(f.code="border-right"),t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.style=a?.style||"none",t.color=a?.color||"#FFFFFF",t.unit=a?.unit||"px",t.min=Number(a?.min)||0,t.max=Number(a?.max)||10,t.unitOption=l,t.styleOption=i;break;case"border-bottom":f.code||(f.code="border-bottom"),t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.style=a?.style||"none",t.color=a?.color||"#FFFFFF",t.unit=a?.unit||"px",t.min=Number(a?.min)||0,t.max=Number(a?.max)||10,t.unitOption=l,t.styleOption=i;break;case"border-left":f.code||(f.code="border-left"),t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.style=a?.style||"none",t.color=a?.color||"#FFFFFF",t.unit=a?.unit||"px",t.min=Number(a?.min)||0,t.max=Number(a?.max)||10,t.unitOption=l,t.styleOption=i;break;case"margin":f.code||(f.code="margin"),t.valueType=a?.valueType||"number",t.valueTop=Number(a?.valueTop)||0,t.valueRight=Number(a?.valueRight)||0,t.valueBottom=Number(a?.valueBottom)||0,t.valueLeft=Number(a?.valueLeft)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||50,t.unit=a?.unit||"px",t.unitOption=l;break;case"padding":f.code||(f.code="padding"),t.valueType=a?.valueType||"number",t.valueTop=Number(a?.valueTop)||0,t.valueRight=Number(a?.valueRight)||0,t.valueBottom=Number(a?.valueBottom)||0,t.valueLeft=Number(a?.valueLeft)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||50,t.unit=a?.unit||"px",t.unitOption=l;break;case"color":f.code||(f.code="color"),t.valueType=a?.valueType||"string",t.value=a?.value||"#FFFFFF";break;case"font":f.code||(f.code="font"),t.valueType=a?.valueType||"multiple",t.color=a?.color||"#FFFFFF",t.type=a?.type||"none",t.style=a?.style||"normal",t.size=Number(a?.size)||0,t.unit=a?.unit||"px",t.weight=Number(a?.weight)||0,t.font=a?.font||null,t.cssvarColor=a?.cssvarColor||null,t.cssvarFont=a?.cssvarFont||null,t.cssvarSize=a?.cssvarSize||null,t.cssvarWeight=a?.cssvarWeight||null,t.minSize=Number(a?.minSize)||0,t.maxSize=Number(a?.maxSize)||50,t.minWeight=Number(a?.minWeight)||0,t.maxWeight=Number(a?.maxWeight)||900;break;case"font-weight":f.code||(f.code="font-weight"),t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.min=Number(a?.min)||0,t.max=Number(a?.max)||900;break;case"text-align":{f.code||(f.code="text-align");const e=[{label:"Left",value:"left"},{label:"Center",value:"center"},{label:"Right",value:"right"},{label:"Justify",value:"justify"}];t.valueType=a?.valueType||"string",t.value=a?.value||"left",t.options=e;break}case"justify-content":{f.code||(f.code="justify-content");const e=[{label:"Start",value:"flex-start"},{label:"Center",value:"center"},{label:"End",value:"flex-end"}];t.valueType=a?.valueType||"string",t.value=a?.value||"center",t.options=e;break}case"justify-items":{f.code||(f.code="justify-items");const e=[{label:"Start",value:"flex-start"},{label:"Center",value:"center"},{label:"End",value:"flex-end"}];t.valueType=a?.valueType||"string",t.value=a?.value||"center",t.options=e;break}case"align-content":{f.code||(f.code="align-content");const e=[{label:"Start",value:"flex-start"},{label:"Center",value:"center"},{label:"End",value:"flex-end"}];t.valueType=a?.valueType||"string",t.value=a?.value||"center",t.options=e;break}case"align-items":{f.code||(f.code="align-items");const e=[{label:"Start",value:"flex-start"},{label:"Center",value:"center"},{label:"End",value:"flex-end"}];t.valueType=a?.valueType||"string",t.value=a?.value||"center",t.options=e;break}case"display":{f.code||(f.code="display");const e=[{label:"None",value:"none"},{label:"Block",value:"block"},{label:"Flex",value:"flex"}];t.valueType=a?.valueType||"string",t.value=a?.value||"block",t.options=e;break}case"position":{f.code||(f.code="position");const e=[{label:"Static",value:"static"},{label:"Relative",value:"relative"},{label:"Fixed",value:"fixed"},{label:"Absolute",value:"absolute"},{label:"Sticky",value:"sticky"}];t.valueType=a?.valueType||"string",t.value=a?.value||"static",t.options=e;break}case"edge":{f.code||(f.code="edge");const e=[{label:"Top",value:"top"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"}];t.valueType=a?.valueType||"number",t.value=Number(a?.value)||0,t.edge=a?.edge||"top",t.unit=a?.unit||"px",t.options=e,t.min=Number(a?.min)||0,t.max=Number(a?.max)||100;break}case"image":f.code||(f.code="image"),t.valueType=a?.valueType||"string",t.value=a?.value||null;break;case"content":f.code||(f.code="content"),t.valueType=a?.valueType||"string",t.value=a?.value||"";break;case"text-shadow":f.code||(f.code="text-shadow"),t.valueType=a?.valueType||"string",t.isEffect=a?.isEffect||!1,t.horizontal=Number(a?.horizontal)||0,t.vertical=Number(a?.vertical)||0,t.blur=Number(a?.blur)||0,t.unit=a?.unit||"px",t.unitOption=l,t.color=a?.color||"#FFFFFF",t.minlength=Number(a?.minlength)||-30,t.maxlength=Number(a?.maxlength)||30,t.minblur=Number(a?.minblur)||-30,t.maxblur=Number(a?.maxblur)||30;break;case"box-shadow":f.code||(f.code="box-shadow"),t.valueType=a?.valueType||"string",t.isEffect=a?.isEffect||!1,t.horizontal=Number(a?.horizontal)||0,t.vertical=Number(a?.vertical)||0,t.blur=Number(a?.blur)||0,t.spread=Number(a?.spread)||0,t.unit=a?.unit||"px",t.unitOption=l,t.color=a?.color||"#FFFFFF",t.inset=a?.inset||!1,t.minlength=Number(a?.minlength)||-30,t.maxlength=Number(a?.maxlength)||30,t.minblur=Number(a?.minblur)||-30,t.maxblur=Number(a?.maxblur)||30,t.minspread=Number(a?.minspread)||-20,t.maxspread=Number(a?.maxspread)||20;break;case"boolean-multoggle":{f.code||(f.code="toggle");const e={code:null,name:null,truevalue:null,falsevalue:null,value:!1,color:"red"};t.valueType=a?.valueType||"array",t.colorOption=o,t.toggle=Array.isArray(a?.toggle)?a.toggle.map((e=>({...e}))):[e];break}case"button-toggle":{f.code||(f.code="toggle");const e={code:null,label:null,value:null};t.valueType=a?.valueType||"array",t.color=a?.color||"red",t.colorOption=o,t.truedefine=a?.truedefine||null,t.falsedefine=a?.falsedefine||null,t.value=a?.value||null,t.togleOptions=Array.isArray(a?.togleOptions)?a?.togleOptions:[e];break}case"button-toggle-2":{f.code||(f.code="toggle");const e={label:null,value:null,paramSet:[{value:null,code:null}]};t.valueType=a?.valueType||"array",t.color=a?.color||"red",t.colorOption=o,t.value=a?.value||null,t.togleOptions=Array.isArray(a?.togleOptions)?a?.togleOptions:[e];break}case"linear-gradient":{f.code||(f.code="background-linear-gradient");const e={degree:0,unit:"deg",color1:"#FFFFFF",color2:"#000000"};t.valueType=a?.valueType||"array",t.minDeg=a?.minDeg||-360,t.maxDeg=a?.maxDeg||360,t.gradients=Array.isArray(a?.gradients)?a?.gradients:[e];break}case"linear-gradient-2":{f.code||(f.code="background-linear-gradient");const e={stop:0,unit:"%",color:"#FFFFFF"};t.valueType=a?.valueType||"array",t.minDeg=a?.minDeg||-360,t.maxDeg=a?.maxDeg||360,t.degree=a?.degree||0,t.degreeUnit=a?.degreeUnit||"deg",t.minStop=a?.minStop||0,t.maxStop=a?.maxStop||100,t.gradients=Array.isArray(a?.gradients)?a?.gradients:[e];break}case"onecomme-services":f.code||(f.code="onecomme-service"),void 0===f.isCss&&(f.isCss=!1),void 0===f.isJs&&(f.isJs=!0),t.valueType=a?.valueType||"string",t.value=a?.value||"service-id";break;case"onecomme-gank-id":f.code||(f.code="gank-id"),void 0===f.isCss&&(f.isCss=!1),void 0===f.isJs&&(f.isJs=!0),t.valueType=a?.valueType||"string",t.value=a?.value||"";break;case"onecomme-counter-current":f.code||(f.code="onecomme-counter-current"),void 0===f.isCss&&(f.isCss=!1),void 0===f.isJs&&(f.isJs=!0),t.counterIndex=Number(a?.counterIndex)||0,t.counterName=a?.counterName||"",t.counterType=a?.counterType||"current",t.min=Number(a?.min)||0,t.max=Number(a?.max)||1e6;break;case"onecomme-counter-target":f.code||(f.code="onecomme-counter-target"),void 0===f.isCss&&(f.isCss=!1),void 0===f.isJs&&(f.isJs=!0),t.counterIndex=Number(a?.counterIndex)||0,t.counterName=a?.counterName||"",t.counterType=a?.counterType||"target",t.min=Number(a?.min)||0,t.max=Number(a?.max)||1e6;break;case"onecomme-counter-field":{f.code||(f.code="onecomme-counter-field"),void 0===f.isCss&&(f.isCss=!1),void 0===f.isJs&&(f.isJs=!0),t.counterIndex=Number(a?.counterIndex)||0,t.counterName=a?.counterName||"",t.valueType=a?.valueType||"string";const e=a?.value||"";let l="";l="string"!=typeof e?C(e):e,t.value=l;break}case"datetime-date-format":f.code||(f.code="datetime-date-format"),void 0===f.isCss&&(f.isCss=!1),void 0===f.isJs&&(f.isJs=!0),t.value=a?.value||1;break;case"datetime-weekday-format":f.code||(f.code="datetime-weekday-format"),void 0===f.isCss&&(f.isCss=!1),void 0===f.isJs&&(f.isJs=!0),t.value=a?.value||1;break;case"datetime-time-format":f.code||(f.code="datetime-time-format"),void 0===f.isCss&&(f.isCss=!1),void 0===f.isJs&&(f.isJs=!0),t.value=a?.value||1}f.attributeSet=t}(e)}));return onMounted((()=>{window.slVueTree=M.value,window.addEventListener("resize",i),(async()=>{try{a.value=!0,t.reviewMax=o.value,t.splitterHeight=t.windowHeight;const e=s.value;D(e),T(e),document.body.removeAttribute("hidden")}catch(e){}})()})),{loaded:a,web:r,ui:t,codeView:u,nodes:s,mainData:c,assetData:d,presetData:m,langData:v,cssData:b,state:n,slVueTree:M,toggleVisibility:function(e,a){e.stopPropagation();const t=!a.data||!1!==a.data.visible;M.value.updateNode({path:a.path,patch:{data:{visible:!t}}}),n.lastEvent=`Node ${a.title} is ${t?"visible":"invisible"} now`;const l=s.value;D(l),T(l)},toggleJs:function(e,a){e.stopPropagation();const t=!a.data||!1!==a.data.isJs;M.value.updateNode({path:a.path,patch:{data:{isJs:!t}}});const l=s.value;D(l),T(l)},toggleIsCss:function(e,a){e.stopPropagation();const t=!a.data||!1!==a.data.isCss;M.value.updateNode({path:a.path,patch:{data:{isCss:!t}}});const l=s.value;D(l),T(l)},nodeSelected:function(e){!1==!p.isVisible&&x(),n.selectedNodesTitle=e.map((e=>e.title)).join(", "),n.lastEvent=`Select nodes: ${n.selectedNodesTitle}`},nodeToggled:function(e){n.lastEvent=`Node ${e.title} is ${e.isExpanded?"expanded":"collapsed"}`},nodeDropped:function(e,a){n.lastEvent=`Nodes: ${e.map((e=>e.title)).join(", ")} are dropped ${a.placement} ${a.node.title}`;const t=s.value;D(t),T(t)},showContextMenu:function(e,a){a.preventDefault(),p.isVisible=!0,p.selectedData=e,p.level=e.level},hideContextMenu:x,contextMenu:p,removeNode:function(){if(null!==p.selectedData){const e=p.selectedData,a=M.value.getSelected().map((e=>e.path)),t=[Array.from(e.path)];let l=[];l=a.length>=1?a:t.length>=1?t:[],l&&M.value.remove(l),p.isVisible=!1,p.selectedData=null;const i=s.value;D(i),T(i)}},addNode:function(e){try{let a="after",t="New Item",l=!0,i=!1,o=!1,u=!1,n=!0,r=!1,c=!1,d=!1;if(1===p.level&&"addRoot"===e&&(a="after",t="New Template",l=!1,i=!0),1===p.level&&"addSection"===e&&(a="inside",t="New Section",l=!1,o=!0),2===p.level&&"addSection"===e&&(a="after",t="New Section",l=!1,o=!0),2===p.level&&"addPart"===e&&(a="inside",t="New Part",l=!1,u=!0),3===p.level&&"addPart"===e&&(a="after",t="New Part",l=!1,u=!0),3===p.level&&"addAttribute"===e&&(a="inside",t="New Attribute",r=!0,c=!0,d=!1),4===p.level&&"addAttribute"===e&&(a="after",t="New Attribute",r=!0,c=!0,d=!1),null!==p.selectedData&&a){const e={node:p.selectedData,placement:a},m={title:t};!0===l&&(m.isLeaf=!0);let v={};if(!0===i){const e=Math.max(...s.value.map((e=>e?.data?.presetId)));v.isRoot=!0,v.name=null,v.code=null,v.type=null,v.isOriginal=!0,v.assetFile=`asset${e+1}.json`,v.presetFile=`preset${e+1}.json`,v.cssFile=`preset${e+1}.css`,v.indexFile=null,v.presetId=e+1}!0===o&&(v.isSection=!0),!0===u&&(v.isPart=!0),!0===r&&(v.isAttribute=!0,v.visible=!0===n,v.isCss=!0===c,v.isJs=!0===d),Object.keys(v).length>0&&(m.data=v),M.value.insert(e,m);const b=s.value;D(b),T(b)}}catch(e){}p.level=0,p.selectedData=null,p.isVisible=!1},editNode:function(){if(null!==p.selectedData){const e=p.selectedData;f.level=e.level,e.data.isRoot&&(f.isRoot=e.data.isRoot),e.data.presetId&&(f.presetId=e.data.presetId),e.data.code&&(f.rootCode=e.data.code),e.data.type&&(f.rootType=e.data.type),e.data.isOriginal&&(f.rootIsOriginal=e.data.isOriginal),e.data.indexFile&&(f.indexFile=e.data.indexFile),e.data.assetFile&&(f.assetFile=e.data.assetFile),e.data.presetFile&&(f.presetFile=e.data.presetFile),e.data.cssFile&&(f.cssFile=e.data.cssFile),e.data.isSection&&(f.isSection=e.data.isSection),e.data.isPart&&(f.isPart=e.data.isPart),e.data.isAttribute&&(f.isAttribute=e.data.isAttribute),e.data.isRoot?f.code=e.title?e.title:"root-id":e.data.isSection?f.code=e.data.code?e.data.code:"section-id":e.data.isPart?f.code=e.data.code?e.data.code:"part-id":f.code=e.data.code?e.data.code:null;let a=[{lang:"en-US",value:!1},{lang:"ja",value:!1},{lang:"zh-CN",value:!1},{lang:"zh-TW",value:!1}],t={"en-US":null,ja:null,"zh-CN":null,"zh-TW":null};if((e.data.isSection||e.data.isPart||e.data.isAttribute)&&(e.data.language&&(t=e.data.language,a=Object.entries(e.data.language).map((([e,a])=>({lang:e,value:null!=a&&""!==a})))),f.isLanguage=a,f.language=t),e.data.isAttribute){let t=!!e.data.isDescription;f.isDescription=t;let l={};e.data.description?a.forEach((a=>{l[a.lang]=e.data.description[a.lang]?e.data.description[a.lang]:null})):a.forEach((e=>{l[e.lang]=null})),f.description=l,f.attribute=e.data.attribute?e.data.attribute:null}}$.value=!0,p.isVisible=!1},copyText:async a=>{try{const t="object"==typeof a&&null!==a?JSON.stringify(a,null,2):a;await copyToClipboard(t),e.notify({message:"Copied",color:"green",position:"top"})}catch(a){e.notify({message:"Fail Copy",color:"red",position:"top"})}},isEditorModal:$,modalEditor:k,editorConfirmation:O,editContent:f,formData:N,filterAttrOpt:function(e,a,t){if(!e)return void a((()=>{N.attrOptions=h}));const l=e.toLowerCase();a((()=>{N.attrOptions=h.filter((e=>e.label.toLowerCase().includes(l)))}))},editorForm:y,validateNode:()=>{y.value.validate().then((e=>{e&&S()}))},addMultipleToggle:function(){Array.isArray(f.attributeSet.toggle)||(f.attributeSet.toggle=[]),f.attributeSet.toggle.push({code:null,truevalue:null,falsevalue:null,value:!1,color:"red"})},removeMultipleToggle:function(e){Array.isArray(f.attributeSet.toggle)&&(e<0||e>=f.attributeSet.toggle.length||f.attributeSet.toggle.splice(e,1))},addButtonToggle:function(){Array.isArray(f.attributeSet.togleOptions)||(f.attributeSet.togleOptions=[]),f.attributeSet.togleOptions.push({code:null,label:null,value:null})},removeButtonToggle:function(e){Array.isArray(f.attributeSet.togleOptions)&&(e<0||e>=f.attributeSet.togleOptions.length||f.attributeSet.togleOptions.splice(e,1))},addButtonToggleCombo:function(){const e={label:null,value:null,paramSet:[{value:null,code:null}]};Array.isArray(f.attributeSet.togleOptions)||(f.attributeSet.togleOptions=[]),f.attributeSet.togleOptions.push(e)},removeButtonToggleCombo:function(e){Array.isArray(f.attributeSet.togleOptions)&&(e<0||e>=f.attributeSet.togleOptions.length||f.attributeSet.togleOptions.splice(e,1))},addButtonToggleComboCss:function(e){Array.isArray(f.attributeSet.togleOptions[e].paramSet)||(f.attributeSet.togleOptions[e].paramSet=[]),f.attributeSet.togleOptions[e].paramSet.push({value:null,code:null})},removeButtonToggleComboCss:function(e,a){Array.isArray(f.attributeSet.togleOptions[e].paramSet)&&(a<0||a>=f.attributeSet.togleOptions[e].paramSet.length||f.attributeSet.togleOptions[e].paramSet.splice(a,1))},addButtonLinearGradient:function(){const e={degree:0,unit:"deg",color1:"#FFFFFF",color2:"#000000"},a={stop:0,unit:"%",color:"#FFFFFF"};Array.isArray(f.attributeSet.gradients)||(f.attributeSet.gradients=[]),"linear-gradient"===f.attribute?f.attributeSet.gradients.push(e):"linear-gradient-2"===f.attribute&&f.attributeSet.gradients.push(a)},removeButtonLinearGradient:function(e){Array.isArray(f.attributeSet.gradients)&&(e<0||e>=f.attributeSet.gradients.length||f.attributeSet.gradients.splice(e,1))},editorStore:l,saveProject:function(){F(l.projectFileName,s.value)},saveMain:function(){F(l.mainFileName,c.value)},savePreset:function(){if(l.presetFileSelected){const e=parseInt(l.presetFileSelected),a=c.value.find((a=>a?.presetId===e)),t=a.code;F(a.presetFile,m.value.find((a=>a?.parentCode===t&&a?.presetId===e)))}},loadProject:e=>{if(!e)return;const a=new FileReader;a.onload=e=>{try{s.value=JSON.parse(e.target.result);const a=s.value;D(a),T(a)}catch(e){}},a.readAsText(e)},saveAsset:function(){if(l.assetFileSelected){const e=parseInt(l.assetFileSelected),a=c.value.find((a=>a?.presetId===e)),t=a.code;F(a.assetFile,d.value.find((a=>a?.parentCode===t&&a?.presetId===e)))}},saveCss:function(){if(l.cssFileSelected){const e=parseInt(l.cssFileSelected),a=c.value.find((a=>a?.presetId===e)),t=a.code;!function(e,a){const t=a.replace(/\\n/g,"\n"),l=new Blob([t],{type:"text/plain"}),i=URL.createObjectURL(l),o=document.createElement("a");o.href=i,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(i)}(a.cssFile,b.value.find((a=>a?.parentCode===t&&a?.presetId===e)).data)}}}}});app.use(Quasar,{config:{loading:!0,loadingBar:!0,notify:!0,copyToClipboard:!0}}),Quasar.IconSet.set(Quasar.IconSet.fontawesomeV6),app.mount("#app");